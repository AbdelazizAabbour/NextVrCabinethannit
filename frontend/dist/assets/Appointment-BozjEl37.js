import{r as o,R as h,j as e}from"./index-DAWVmiiJ.js";import{P as x}from"./PageHeader-ZaIZS_M0.js";import{c as j}from"./api--cjS8XQN.js";const g=()=>{const[a,l]=o.useState({name:"",email:"",phone:"",service:"",date:"",time:"",message:""});h.useEffect(()=>{const s=localStorage.getItem("user");if(s){const n=JSON.parse(s);l(u=>({...u,name:n.name||"",email:n.email||"",phone:n.phone||""}))}},[]);const[t,i]=o.useState({type:"",message:""}),[m,c]=o.useState(!1),d=["Kinésithérapie","Physiothérapie","Traumatologie","Rhumatologie","Neurologie","Amincissement","Autre"],r=s=>{l({...a,[s.target.name]:s.target.value})},p=async s=>{s.preventDefault(),c(!0),i({type:"",message:""});try{await j(a),i({type:"success",message:"Votre demande de rendez-vous a bien été envoyée. Nous vous confirmerons la date et l'heure par téléphone sous peu."}),l({name:"",email:"",phone:"",service:"",date:"",time:"",message:""})}catch(n){console.error("Error booking appointment:",n),i({type:"error",message:"Une erreur est survenue lors de la réservation. Veuillez réessayer ou nous contacter par téléphone."})}finally{c(!1)}};return e.jsxs("div",{className:"appointment-page",children:[e.jsx(x,{title:"Prendre Rendez-vous",subtitle:"Réservez votre consultation en ligne facilement",breadcrumb:[{label:"Accueil",link:"/"},{label:"Rendez-vous"}]}),e.jsx("section",{className:"section appointment-section",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"appointment-grid",children:[e.jsxs("div",{className:"appointment-intro animate-fadeInLeft",children:[e.jsx("span",{className:"section-subtitle",children:"Consultation"}),e.jsx("h2",{className:"section-title",children:"Votre santé ne peut pas attendre"}),e.jsx("p",{className:"lead-text",children:"Remplissez le formulaire ci-contre pour demander un rendez-vous. Notre équipe administrative vous contactera rapidement pour confirmer votre consultation."}),e.jsxs("div",{className:"appointment-steps",children:[e.jsxs("div",{className:"step-item",children:[e.jsx("span",{className:"step-number",children:"1"}),e.jsx("h4",{children:"Remplissez le formulaire"}),e.jsx("p",{children:"Indiquez vos coordonnées et vos préférences de date."})]}),e.jsxs("div",{className:"step-item",children:[e.jsx("span",{className:"step-number",children:"2"}),e.jsx("h4",{children:"Confirmation"}),e.jsx("p",{children:"Nous vous appelons pour confirmer le créneau horaire."})]}),e.jsxs("div",{className:"step-item",children:[e.jsx("span",{className:"step-number",children:"3"}),e.jsx("h4",{children:"Consultation"}),e.jsx("p",{children:"Présentez-vous au cabinet 10 minutes avant votre heure."})]})]}),e.jsxs("div",{className:"appointment-info-box",children:[e.jsx("h4",{children:"Heures d'ouverture"}),e.jsxs("ul",{className:"info-hours",children:[e.jsxs("li",{children:[e.jsx("span",{children:"Lun - Ven:"})," ",e.jsx("strong",{children:"09:00 - 18:00"})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Samedi:"})," ",e.jsx("strong",{children:"10:00 - 15:00"})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Dimanche:"})," ",e.jsx("strong",{children:"Fermé"})]})]})]})]}),e.jsx("div",{className:"appointment-form-card card animate-fadeInRight delay-2",children:e.jsxs("form",{onSubmit:p,children:[e.jsx("h3",{className:"form-title",children:"Formulaire de Réservation"}),t.message&&e.jsx("div",{className:`alert alert-${t.type}`,children:t.message}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",className:"form-label",children:"Nom complet *"}),e.jsx("input",{type:"text",id:"name",name:"name",className:"form-input",required:!0,value:a.name,onChange:r,placeholder:"Votre nom"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:"Téléphone *"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",className:"form-input",required:!0,value:a.phone,onChange:r,placeholder:"06 00 00 00 00"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"form-input",value:a.email,onChange:r,placeholder:"votre@email.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"service",className:"form-label",children:"Service souhaité *"}),e.jsxs("select",{id:"service",name:"service",className:"form-select",required:!0,value:a.service,onChange:r,children:[e.jsx("option",{value:"",children:"Sélectionnez un service"}),d.map((s,n)=>e.jsx("option",{value:s,children:s},n))]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"date",className:"form-label",children:"Date souhaitée *"}),e.jsx("input",{type:"date",id:"date",name:"date",className:"form-input",required:!0,value:a.date,onChange:r})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"time",className:"form-label",children:"Heure souhaitée"}),e.jsx("input",{type:"time",id:"time",name:"time",className:"form-input",value:a.time,onChange:r})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",className:"form-label",children:"Message / Symptômes"}),e.jsx("textarea",{id:"message",name:"message",className:"form-textarea",value:a.message,onChange:r,placeholder:"Décrivez brièvement vos symptômes ou laissez un message..."})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:m,children:m?"Envoi en cours...":"Confirmer la demande"}),e.jsx("p",{className:"form-note",children:"* Champs obligatoires"})]})})]})})})]})};export{g as default};
