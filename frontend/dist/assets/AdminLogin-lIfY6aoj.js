import{r as t,j as e}from"./index-DAWVmiiJ.js";import{a as h}from"./api--cjS8XQN.js";const x=()=>{const[r,c]=t.useState(""),[i,m]=t.useState(""),[l,n]=t.useState(""),[o,d]=t.useState(!1),p=async s=>{s.preventDefault(),d(!0),n("");try{const a=await h({email:r,password:i});localStorage.setItem("admin_token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),window.location.href="/admin/dashboard"}catch(a){a.response&&a.response.data&&a.response.data.message?n(a.response.data.message):n("Identifiants invalides. Veuillez réessayer.")}finally{d(!1)}};return e.jsx("div",{className:"admin-login-page",children:e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-card animate-fadeInUp",children:[e.jsxs("div",{className:"login-header",children:[e.jsx("div",{className:"admin-logo",children:e.jsx("img",{src:"/logo.png",alt:"Cabinet Hannit",style:{width:"60px",height:"60px"}})}),e.jsx("h2",{children:"Espace Administration"}),e.jsx("p",{children:"Connectez-vous pour gérer le cabinet"})]}),l&&e.jsx("div",{className:"alert alert-error",children:l}),e.jsxs("form",{onSubmit:p,className:"login-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",className:"form-input",value:r,onChange:s=>c(s.target.value),required:!0,placeholder:"admin@cabinethannit.ma"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Mot de passe"}),e.jsx("input",{type:"password",id:"password",className:"form-input",value:i,onChange:s=>m(s.target.value),required:!0,placeholder:"••••••••"})]}),e.jsx("button",{type:"submit",style:{width:"100%"},className:"btn btn-primary btn-block animate-fadeInUp animate-delay-100",disabled:o,children:o?"Connexion...":"Se connecter"})]})]})})})};export{x as default};
